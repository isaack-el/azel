<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>azelove</title>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <style>
    :root {
      --pink: #ffd6e0;
      --deep: #ff93b3;
      --accent: #ff5a7a;
    }
    body {
      font-family: 'Segoe UI', Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #ffe6f0, #fff0f5);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      width: 900px;
      max-width: 94vw;
      background: white;
      padding: 36px;
      border-radius: 20px;
      position: relative;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15),
                  inset 0 2px 8px rgba(255, 255, 255, 0.6);
      padding: 44px 48px;

      background-image: 
            url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='26' height='26'><path d='M13 23s-7-5-10-10C-0.7 6.5 2.5 1 8 1c2.5 0 5 2 6 3 1-1 3.5-3 6-3 5.5 0 8.7 5.5 4 12-3 5-10 10-10 10z' fill='%23ff5a7a' opacity='0.3'/></svg>");
          background-repeat: repeat;
          background-size: 50px 50px;
    }

    .card:hover {
      box-shadow: 
        0 30px 60px rgba(0, 0, 0, 0.25),
        0 0 90px rgba(255, 147, 179, 0.4),
        inset 0 4px 14px rgba(255, 255, 255, 1);
    }

    .inner {
      border: 6px solid #ffd9e6;
      border-radius: 14px;
      padding: 28px;
      display: flex;
      gap: 28px;
      align-items: flex-start;
      min-height: 360px;
      background: linear-gradient(180deg, #fff, #fff);
      box-shadow: inset 0 3px 6px rgba(0,0,0,0.05);
    }

    .left {
      flex: 1;
    }
    h1 {
      color: var(--accent);
      font-size: 42px;
      margin: 0 0 12px 0;
      letter-spacing: 1px;
      text-shadow: 1px 1px 3px rgba(255,90,122,0.2);
    }
    p.lead {
      color: #6b2b3a;
      margin: 0 0 18px 0;
      line-height: 1.5;
      font-size: 16px;
    }
    p.small {
      font-size: 14px;
      color: #b24a60;
      margin-top: 12px;
      font-style: italic;
    }

    .right {
      width: 360px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .scratch-box {
      width: 320px;
      height: 220px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12),
                  inset 0 2px 6px rgba(255,255,255,0.8);
      background: #eee;
      display: flex;
      align-items: center;
      justify-content: center;
      transform: perspective(800px) rotateX(4deg) rotateY(-2deg);
      transition: transform 0.3s ease;
    }
    .scratch-box:hover {
      transform: perspective(800px) rotateX(0) rotateY(0) scale(1.03);
    }

    .qr-wrap {
      position: relative;
    }
    canvas {
      position: absolute;
      left: 0;
      top: 0;
    }

    .hint {
      font-size: 14px;
      color: #9a4152;
      margin-top: 12px;
      text-align: center;
    }

    .btn {
      margin-top: 14px;
      padding: 10px 18px;
      border-radius: 10px;
      background: var(--deep);
      color: white;
      font-size: 15px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(255,147,179,0.4);
      transition: 0.2s;
    }
    .btn:hover {
      background: var(--accent);
      transform: translateY(-2px);
    }

    @media(max-width:780px) {
      .inner {
        flex-direction: column;
      }
      .right {
        width: 100%;
      }
      .scratch-box {
        width: 260px;
        height: 200px;
      }
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="inner">
      <div class="left">
        <h1>The More I Know<br/>The More I Love</h1>
        <p class="lead">
          I'll tell the world everything about you and witness the blind beg God to have visions for a minute just to see you. I to experience the purest version of you, which took me time to unveil. I witnessed your soft laughter, now the loudest one I've heard. It may be loud, yet it provides the peace I couldn't find in silence. I had the privilege of seeing you on your weakest days. I've seen the chaos you've been hiding behind that calm demeanor. Yet in those times not a single thought crossed my mind about leaving you. 
        </p>
        <p class="small">you're a love i'd cross ocean for like the ocean finds the share, i'll always find you</p>
      </div>

      <div class="right">
        <div class="scratch-box" id="scratchBox">
          <div id="qrWrap" class="qr-wrap"></div>
          <canvas id="scratchCanvas"></canvas>
        </div>
        <div class="hint">RUB THE GRAY</div>
        <button class="btn" id="pdfBtn">click me azeell!</button>
        <button class="btn" id="flowerBtn">after that click me!</button>
      </div>
    </div>
  </div>

  <script>
  const spotifyLink = "https://open.spotify.com/playlist/1o2reDsGvXJT0bQ02sDXyf?si=Q-kx3gCORq605gklhWBb1w&pi=mxh5b6aIRci-A"; 
  const qrSize = 200;
  const pdfFile = "azel 4.pdf"; 

  new QRCode(document.getElementById("qrWrap"), {
    text: spotifyLink,
    width: qrSize,
    height: qrSize
  });

  const scratchBox = document.getElementById('scratchBox');
  const canvas = document.getElementById('scratchCanvas');
  const pdfBtn = document.getElementById('pdfBtn');
  const flowerBtn = document.getElementById('flowerBtn'); // tombol baru

  function fitCanvasToBox() {
    const rect = scratchBox.getBoundingClientRect();
    canvas.width = Math.round(rect.width);
    canvas.height = Math.round(rect.height);
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
  }

  function initScratch() {
    fitCanvasToBox();
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#bdbdbd';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    let isDrawing = false;
    const brushRadius = Math.max(18, Math.round(Math.min(canvas.width, canvas.height) / 15));

    function pointerDown(e){ isDrawing = true; draw(e); }
    function pointerUp(){ isDrawing = false; }
    function getPos(e){
      const rect = canvas.getBoundingClientRect();
      const clientX = (e.touches ? e.touches[0].clientX : e.clientX);
      const clientY = (e.touches ? e.touches[0].clientY : e.clientY);
      return { x: clientX - rect.left, y: clientY - rect.top };
    }
    function draw(e){
      if(!isDrawing) return;
      const p = getPos(e);
      ctx.globalCompositeOperation = 'destination-out';
      ctx.beginPath();
      ctx.arc(p.x, p.y, brushRadius, 0, Math.PI*2, false);
      ctx.fill();
    }

    canvas.addEventListener('mousedown', pointerDown);
    canvas.addEventListener('touchstart', pointerDown, {passive:true});
    window.addEventListener('mouseup', pointerUp);
    window.addEventListener('touchend', pointerUp);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('touchmove', draw, {passive:true});

    function getErasedPercentage(){
      const imageData = ctx.getImageData(0,0,canvas.width,canvas.height);
      const pixels = imageData.data;
      let erased = 0;
      for(let i=3;i<pixels.length;i+=4){ if(pixels[i]===0) erased++; }
      return (erased/(canvas.width*canvas.height))*100;
    }
    let checking = setInterval(()=>{
      if(getErasedPercentage() >= 99){ 
        ctx.clearRect(0,0,canvas.width,canvas.height);
        clearInterval(checking);
      }
    },700);

    pdfBtn.addEventListener('click', ()=>{
      window.open(pdfFile, "_blank");
    });

    // event tombol flowers
    flowerBtn.addEventListener('click', ()=>{
      window.location.href = "flowers.html";
    });
  }

  window.onload = ()=>{ initScratch(); };
</script>
</body>
</html>
